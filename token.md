# 关于认证

> 密码之前用md5加密，这样的方法很容易用MD5对照表来猜到用户的密码。
> 2015年还能看到保存明码的网站，真不知道其真实目的为何

### Session
写php的常用$_SESSION，使用很方便，但是安全很低。

### Cookie
因为在客户端，所以很容易给读取。js加密采用公私钥安全，其他加密方法只是拖延解密时间，只要有价值，高手还是比较容易破解。

### Token
现在APP流行的很，大都采用TOKEN。大的用公私钥，小公司的app就简单多了。支付宝用openssl校验合法请求。

以前做的是加密客户端发送的所有信息，对称加密，所以服务端会解密。其中包含时间戳，这是为了避免有人反复使用相同请求。但是碰到个问题，就是用户的手机时间和服务器时间有差异，解决方法就是服务端兼容一定范围时间差，客户端检查到时间差异，提醒用户，超过3次提醒服务端该用户的时间差。
加密所有信息，就意味着用户会消耗比较大的流量，** 优化方案 ** 是常用的信息进行映射，比如 /USER/2/STATUS/ 变成USER_STATUS/2, 映射动作USER_STATUS如果是1的话，那么就变成1/2。
加密中的时间戳拿出来，加密信息中用保存动态部分时间戳信息，以此防止时间戳被篡改。

### 前期防范
客户注册用户和密码要做些门槛，比如123密码的做些提示。

### 日常记录
对于非正常用户行为要做记录和提醒。







